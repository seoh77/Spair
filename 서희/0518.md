### 2024. 05. 18. 토요일

# Daily 회고


### 📍 작업 내용
- 댓글 조회 시 댓글 작성자의 닉네임도 포함되도록 API 수정
- 로그인 성공시 로그인한 user의 정보가 반환되도록 API 수정
- 로그인 페이지에서 로그인 시 LocalStorage에 유저 정보 저장
- 지도 페이지 퍼블리싱 및 카카오맵 지도 표시
- 전체 게시글 조회 시 스포츠센터의 위도, 경도 값이 포함되도록 API 수정
- 지도 페이지에서 게시글이 등록된 스포츠센터 위치에 마커가 표시되도록 기능 구현


### 📍 회고

**API 기능 수정**

> API를 만들 때 디자인된 화면을 참고하며 필요한 내용은 전부 반환될 수 있도록 API를 만들었다고 생각했는데, 실제로 프론트에서 API를 사용하다보니 누락된 데이터들이 존재했다. 이를 통해 API를 만들 때 좀 더 꼼꼼하게 내용을 확인하며 API를 만들어야겠다는 생각이 들었고, 또한 프론트에서도 생각하지 못한 상황이 있을 수 있으므로 여유 기간을 두고 작업을 해야겠다는 생각이 들었다.

<br />

**로그인 시 유저 정보를 어디에 저장할 것인가?**

> 로그인 기능을 구현하기 전에 유저 정보를 어디에 저장하는 것이 좋을지에 대한 회의를 진행했다. 회의에 앞서 쿠키, 로컬 스토리지, 세션 스토리지 각각의 특징에 대해 찾아보았다. 
> 
> **쿠키**
> - 클라이언트 측에서 저장되는 작은 텍스트 파일
> - 유효 기간이 있으며, 유효 기간이 지나면 삭제
> - 암호화가 안 되어 있어, 유저 정보 도난 위험
> - 주로 사용자 식별, 선호 설정, 장바구니 등의 정보를 저장하는 데 사용
>
> **로컬 스토리지**
> - 로컬 스토리지에 저장된 데이터는 브라우저를 종료해도 유지
> - 보안 상의 이유로 동일한 도메인에서만 액세스할 수 있다.
> - 주로 사용자 프로필, 기본 설정 등의 정보를 저장하는 데 사용
>
> **세션 스토리지**
> - 세션 스토리지에 저장된 데이터는 브라우저 세션이 유지되는 동안에만 유지되어 브라우저를 종료하면 세션 스토리지에 저장된 데이터가 모두 삭제된다.
> - 로컬 스토리지와 마찬가지로 보안 상의 이유로 동일한 도메인에서만 액세스할 수 있다.
> - 주로 일회성 로그인, 인증 토큰 등의 정보를 저장하는데 사용
>
> 위와 같은 정보를 바탕으로 최종적으로 로컬 스토리지에 유저 정보를 저장하기로 결정하였다. 
> 로컬 스토리지에 유저 정보를 저장하기로 결정한 가장 큰 이유는 브라우저를 종료해도 데이터를 유지하기 떄문에 이를 활용해 자동 로그인을 구현할 수 있다는 점 때문이다.

<br />

**지도 페이지 기능 수정**

> 기존에 지도 페이지에 구현하고자 했던 기능은 사용자가 키워드를 검색하면 우리 동네에서 해당 키워드와 관련된 장소들이 마커로 찍히는 것이었다. 이를 구현하기 위해 카카오맵 API를 사용하여 해당 기능을 구현하였으나 우리 동네 범위가 아닌 전국 데이터가 넘어오면서 너무 많은 마커가 표시되었고, 이것이 우리가 원한 기능이 맞는지에 대한 이야기를 나눴다. 우선 해당 기능의 가장 큰 문제점은 '이 기능이 왜 우리 프로젝트에 필요한가'에 대한 의문이 든다는 점이었다. 현재 구현한 기능은 우리 프로젝트에 필요해서 존재하는 기능이 아니라, 단순히 이런 기능도 구현했다를 보여주는 식 밖에 되지 않는다는 생각이 들었다. 
> 이러한 이유 때문에 여러 수정 방안을 두고 이야기를 나눴고, 최종적으로는 게시글이 등록된 스포츠센터 위치에 마커를 찍고, 위치를 클릭하면 해당 스포츠센터에 등록된 게시글만 보이는 각 스포츠센터 페이지로 이동하는 방식으로 기능을 수정하기로 했다. 사실 프로젝트를 처음 기획했을 때부터 게시글이 등록된 스포츠센터 위치에 마커가 표시되도록 기능을 구현하고 싶었으나 너무 어려울 것 같아 해당 기능은 포기했다. 하지만 프로젝트를 구현하다보니 좀 더 욕심이 생기면서 우리 프로젝트에 더 적합하고, 필요한 기능을 구현하고 싶어 해당 기능을 최대한 구현해보는 것으로 결정하였다. 

<br />

**카카오맵 라이브러리 사용**

> 수정한 지도 페이지 기능은 걱정과 다르게 생각보다 빠르게 구현하였다. 빠르게 구현할 수 있었던 가장 큰 이유는 10기 선배님들이 만든 "vue3-kakao-maps" 라이브러리 덕분이었다. 기능 수정 전 키워드 검색을 구현했을 때는 라이브러리를 사용할 수 없는 기능이었기 때문에 API 문서를 참고하여 직접 구현하였고, 그 결과 기능을 구현하는데 필요한 JS 코드만 거의 200줄 이상이었다. 해당 코드를 전부 지우고 새롭게 다른 기능을 구현하려고 하니 막막함도 조금은 있었는데, 마커로 표시하고 클릭하는 이벤트는 라이브러리를 사용해볼 수 있을 것 같아 라이브러리를 활용하니 훨씬 간단하게 기능 구현이 가능했다. 이전에 직접 코드를 구현해본 후, 라이브러리를 활용하여 코드가 훨씬 간단해지는 경험을 하니 라이브러리 개발에 대해 관심이 생겼다. 아직은 라이브러리에 대해서 아무것도 모르지만, 추후에 라이브러리를 개발하는 것도 공부해보고 싶다.

<br />


